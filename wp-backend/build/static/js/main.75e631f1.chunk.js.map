{"version":3,"sources":["Axios.js","StateProvider.js","components/Chat.js","components/SidebarChat.js","components/Sidebar.js","Firebase.js","Reducer.js","components/Login.js","components/Welcome.js","App.js","index.js"],"names":["instance","axios","create","baseURL","StateContext","createContext","StateProvider","reducer","initialState","children","Provider","value","useReducer","useStateValue","useContext","Chat","messages","useState","input","setInput","ROOMID","useParams","roomname","setRoomname","user","useEffect","get","then","res","data","sendMessage","e","a","preventDefault","post","roomID","message","name","displayName","timeStamp","Date","getHours","getMinutes","received","className","Avatar","src","image","toString","IconButton","SearchOutlined","map","placeholder","type","onChange","target","onClick","SidebarChat","id","to","Sidebar","rooms","setRooms","React","search","setSearch","filterRooms","filter","room","toLowerCase","includes","channel2","Pusher","cluster","subscribe","bind","newRoom","unbind_all","unsubscribe","seed","setSeed","Math","floor","random","createRoom","roomName","prompt","window","location","reload","photoURL","_id","allMessages","auth","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","provider","GoogleAuthProvider","actionTypes","state","action","console","log","Login","dispatch","alt","Button","signInWithPopup","catch","error","alert","Welcome","App","setMessages","channel","newMessage","innerWidth","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.75e631f1.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n    baseURL: \"http://localhost:9000\"\r\n})\r\n\r\nexport default instance","import React, {createContext,useContext,useReducer} from 'react'\r\n\r\nexport const StateContext = createContext();\r\n\r\nexport const StateProvider = ({reducer,initialState,children})=>(\r\n    <StateContext.Provider value={useReducer(reducer,initialState)}>\r\n        {children}\r\n    </StateContext.Provider>\r\n);\r\n\r\nexport const useStateValue = () => useContext(StateContext);\r\n","import { Avatar, IconButton } from '@material-ui/core';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport {SearchOutlined} from '@material-ui/icons';\r\nimport AttachFileIcon from '@material-ui/icons/AttachFile';\r\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\r\nimport MicIcon from '@material-ui/icons/Mic';\r\nimport SendIcon from '@material-ui/icons/Send';\r\n\r\nimport React,{useState,useEffect} from 'react'\r\nimport {useParams} from 'react-router-dom'\r\nimport \"../styles/Chat.css\";\r\nimport axios from '../Axios'\r\nimport { useStateValue } from '../StateProvider'\r\n\r\nconst Chat = ({ messages }) => {\r\n\r\n    const [input,setInput] = useState(\"\");\r\n    const { ROOMID } = useParams();\r\n    const [roomname,setRoomname] = useState(\"\");\r\n    const [{user},dipacth] = useStateValue();\r\n\r\n\r\n    useEffect(()=>{\r\n        axios.get(`/rooms/${ROOMID}`)\r\n        .then(res => {\r\n            setRoomname(res.data);\r\n        })\r\n        \r\n    },[ROOMID])\r\n\r\n    const sendMessage= async(e) => {\r\n        e.preventDefault();\r\n\r\n        if(input){\r\n            await axios.post(\"/messages/new\",{\r\n                roomID: ROOMID,\r\n                message: input,\r\n                name: user.displayName,\r\n                timeStamp : `${new Date().getHours()}:${new Date().getMinutes()}`,\r\n                received: false\r\n            });\r\n        }\r\n        \r\n\r\n        setInput(\"\");\r\n\r\n    }\r\n    return (\r\n        <div className=\"chat\">\r\n            <div className=\"chat-header\">\r\n                <Avatar src={roomname.image}/>\r\n\r\n                <div className=\"chat-header-info\">\r\n                    <h3>{roomname.name}</h3>\r\n                    <p>{new Date().toString()}</p>\r\n                </div>\r\n\r\n                <div className=\"chat-head-right\">\r\n                    <IconButton>\r\n                        <SearchOutlined/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <AttachFileIcon/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"chat-body\">\r\n                {messages.map((message)=>{\r\n                    return(\r\n                        <div>\r\n                            {(message.roomID === ROOMID)?(\r\n                                <h6 className={`chat-message ${message.name === user.displayName && \"chat-reciever\"}`}>\r\n                                    <p className=\"chat-name\">{message.name}</p>\r\n                                    {message.message}\r\n                                    <span className=\"chat-timestamp\">\r\n                                        {message.timeStamp}\r\n                                    </span>\r\n                                </h6>\r\n                            ) : \r\n                                <h1></h1>\r\n                            }\r\n\r\n                        </div>\r\n                        \r\n                    )\r\n\r\n                })}\r\n\r\n            </div>\r\n\r\n            <div className=\"chat-footer\">\r\n                <InsertEmoticonIcon/>\r\n\r\n                <form>\r\n                    <input \r\n                    placeholder=\"Type message ..\"\r\n                    type=\"text\"\r\n                    value={input}\r\n                    onChange={(e)=>setInput(e.target.value)}/>\r\n                    <button\r\n                    onClick={sendMessage}\r\n                    type=\"submit\">\r\n                        <SendIcon/>\r\n                    </button>\r\n                </form>\r\n\r\n                <MicIcon/>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Chat\r\n","import React , {} from 'react'\r\nimport {Avatar} from \"@material-ui/core\"\r\nimport \"../styles/SidebarChat.css\"\r\nimport {Link} from 'react-router-dom'\r\n\r\nconst SidebarChat = ({id,name,image}) => {\r\n\r\n\r\n    \r\n\r\n    return(\r\n\r\n        <Link to={`/rooms/${id}`}>\r\n            <div className=\"sidebarChat\">\r\n                <Avatar src={image}/>\r\n                <div className=\"sidebarChat-info\">\r\n                    <h2>{name}</h2>\r\n                </div>\r\n            </div>\r\n        </Link>\r\n        \r\n        \r\n    );\r\n}\r\n\r\nexport default SidebarChat\r\n","import React, {useState,useEffect} from 'react';\r\nimport \"../styles/Sidebar.css\";\r\n\r\nimport DonutLargeIcon from '@material-ui/icons/DonutLarge';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\nimport MoreVertIcon from '@material-ui/icons/MoreVert';\r\nimport {Avatar,IconButton} from \"@material-ui/core\"\r\nimport {SearchOutlined} from '@material-ui/icons';\r\n\r\nimport Pusher from 'pusher-js'\r\nimport axios from '../Axios'\r\n\r\nimport SidebarChat from \"./SidebarChat\"\r\n\r\nimport { useStateValue } from '../StateProvider';\r\nimport { Types } from 'mongoose';\r\n\r\nconst Sidebar = (messages) => {\r\n\r\n    const [rooms,setRooms] = useState([]);\r\n    const [{user},dispatch] = useStateValue();\r\n    const [search,setSearch] = React.useState(\"\");\r\n\r\n\r\n    const filterRooms = rooms.filter((room)=>{\r\n        return room.name.toLowerCase().includes(search.toLowerCase());\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get('/rooms/sync')\r\n        .then(res => {\r\n            setRooms(res.data);\r\n        })\r\n    }, [])\r\n\r\n\r\n    useEffect(() => {\r\n        const pusher2 = new Pusher('77bfb37eb1ed3c1f5728', {\r\n            cluster: 'eu'\r\n        });\r\n        const channel2 = pusher2.subscribe('rooms');\r\n        \r\n        channel2.bind('inserted', (newRoom) => {\r\n            setRooms([...rooms,newRoom])\r\n        });\r\n\r\n        return ()=>{\r\n            channel2.unbind_all();\r\n            channel2.unsubscribe();\r\n        };\r\n    }, [rooms]);\r\n\r\n\r\n\r\n    const [seed,setSeed] = useState(\"\");\r\n\r\n    useEffect(()=>{\r\n        setSeed(Math.floor(Math.random()*500))\r\n    },[])\r\n\r\n\r\n    const createRoom = async(e) => {\r\n        e.preventDefault();\r\n\r\n        const roomName = prompt(\"Please enter toom name : \");\r\n\r\n        \r\n        if(roomName){\r\n            await axios.post(\"/rooms/new\",{\r\n                name: roomName,\r\n                image: `https://avatars.dicebear.com/4.5/api/male/${seed}.svg`\r\n            });\r\n        }\r\n\r\n        window.location.reload(true);\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"sidebar\">\r\n            <div className=\"sidebar-header\">\r\n                <Avatar src={user?.photoURL} className=\"profilepic\" />\r\n                <div className=\"siebar-header-right\">\r\n                    <IconButton>\r\n                        <DonutLargeIcon/>\r\n                    </IconButton>\r\n                    <IconButton onClick={createRoom}>\r\n                        <ChatIcon/>\r\n                    </IconButton>\r\n                    <IconButton>\r\n                        <MoreVertIcon/>\r\n                    </IconButton>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"sidebar-search\">\r\n                <div className=\"sidebar-searchContainer\">\r\n                    <SearchOutlined/>\r\n                    <input placeholder=\"Search chat or start new\" type=\"text\" onChange={e => setSearch(e.target.value)}/>\r\n                </div>\r\n            </div>\r\n\r\n\r\n            <div className=\"sidebar-chats\">\r\n                {filterRooms.map((room)=>{\r\n                    return <SidebarChat key={room._id} name={room.name} id={room._id} image={room.image} allMessages={messages}/>\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Sidebar\r\n","import firebase from 'firebase'\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyBQoK0zSQi5F1lVL-cSqy5DA_or3VydcP4\",\r\n  authDomain: \"whatsapp-mern-clone-156c3.firebaseapp.com\",\r\n  projectId: \"whatsapp-mern-clone-156c3\",\r\n  storageBucket: \"whatsapp-mern-clone-156c3.appspot.com\",\r\n  messagingSenderId: \"981513484646\",\r\n  appId: \"1:981513484646:web:f53fd0b2adebc63ed3f0a7\"\r\n};\r\n\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\n\r\nconst auth = firebase.auth();\r\nconst provider = new firebase.auth.GoogleAuthProvider();\r\n\r\n\r\nexport {auth,provider};","export const initialState = {\r\n    user: null,\r\n};\r\n\r\nexport const actionTypes = {\r\n    SET_USER: \"SET_USER\",\r\n};\r\n\r\nconst reducer = (state,action) => {\r\n    console.log(action);\r\n\r\n    switch(action.type){\r\n        case actionTypes.SET_USER:\r\n            return{\r\n                ...state,\r\n                user: action.user,\r\n            };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default reducer;","import React from 'react'\r\nimport {Button} from \"@material-ui/core\"\r\nimport {auth,provider} from \"../Firebase\"\r\n\r\nimport \"../styles/Login.css\"\r\nimport { useStateValue } from '../StateProvider'\r\nimport { actionTypes } from '../Reducer'\r\n\r\nconst Login = () => {\r\n\r\n    const [{},dispatch] = useStateValue();\r\n\r\n    const signIn = () =>{\r\n        auth.signInWithPopup(provider)\r\n        .then(res=>{\r\n            dispatch({\r\n                type: actionTypes.SET_USER,\r\n                user: res.user,\r\n            })\r\n        })\r\n        .catch((error)=>{\r\n            alert(error.message);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"login\">\r\n            <div className=\"login-container\">\r\n                <img src=\"https://cdn2.iconfinder.com/data/icons/social-messaging-ui-color-shapes-2-free/128/social-whatsapp-circle-512.png\"\r\n                alt=\"\"/>\r\n                <div className=\"login-text\">\r\n                    Sign in to WhatsApp Clone\r\n                </div>\r\n                <Button onClick={signIn}>\r\n                    Sign in with Google\r\n                </Button>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Login\r\n","import { Button } from '@material-ui/core'\r\nimport React from 'react'\r\nimport \"../styles/Welcome.css\"\r\n\r\nconst Welcome = () => {\r\n    return (\r\n        <div className=\"welcome\">\r\n            <div className=\"wc-container\">\r\n                <img src=\"https://media-exp1.licdn.com/dms/image/C5603AQHvP34jkf8Mqw/profile-displayphoto-shrink_200_200/0/1601032304043?e=1614211200&v=beta&t=q13RFggXwpMDilABLHxDVs5IdZhM8ijWqNlZpl9wFug\"\r\n                alt=\"\"/>\r\n                <h2>Welcome to WhatsApp Clone</h2>\r\n                <p>Created with MERN stack</p>\r\n                <p> By Debjit Pramanick</p>\r\n                <ul>\r\n                    <li>Google Sign-in</li>\r\n                    <li>Create room</li>\r\n                    <li>Search rooms</li>\r\n                    <li>Chat with people</li>\r\n                </ul>\r\n\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Welcome\r\n","import React, {useEffect,useState} from 'react';\r\nimport {BrowserRouter as Router, Switch,\r\nRoute} from 'react-router-dom'\r\nimport Chat from './components/Chat';\r\nimport Sidebar from \"./components/Sidebar\";\r\nimport Pusher from 'pusher-js'\r\nimport axios from './Axios'\r\n\r\nimport \"./App.css\";\r\nimport Login from './components/Login';\r\nimport { useStateValue } from './StateProvider';\r\nimport Welcome from './components/Welcome';\r\n\r\n//Here we go--------------------------------------------\r\n\r\n\r\nconst App = () => {\r\n\r\n    const [{user},dispatch] = useStateValue();\r\n\r\n    const [messages,setMessages] = useState([]);\r\n\r\n\r\n    useEffect(() => {\r\n        axios.get('/messages/sync')\r\n        .then(res => {\r\n            setMessages(res.data);\r\n        })\r\n    }, [])\r\n\r\n\r\n\r\n    useEffect(() => {\r\n        const pusher = new Pusher('77bfb37eb1ed3c1f5728', {\r\n            cluster: 'eu'\r\n        });\r\n        const channel = pusher.subscribe('messages');\r\n        \r\n        channel.bind('inserted', (newMessage) => {\r\n            setMessages([...messages,newMessage]);\r\n        });\r\n\r\n        return ()=>{\r\n            channel.unbind_all();\r\n            channel.unsubscribe();\r\n        };\r\n\r\n    },[messages]);\r\n\r\n    console.log(window.innerWidth);\r\n\r\n    return (\r\n        <div className=\"app\">\r\n            {!user ? (\r\n                <Login/>\r\n            ): (\r\n                <div className=\"app-body\">\r\n\r\n                    <Router>\r\n                        <Sidebar messages={messages}/>\r\n                        <Switch>\r\n                            <Route path=\"/rooms/:ROOMID\">\r\n                                <Chat messages={messages}/>\r\n                            </Route>\r\n                            <Route path=\"/\">\r\n                                <Welcome/>\r\n                            </Route>\r\n                        </Switch>\r\n                    </Router>\r\n                \r\n                </div>\r\n            )}\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport reducer , {initialState} from \"./Reducer\";\nimport {StateProvider} from \"./StateProvider\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <StateProvider initialState={initialState}\n    reducer={reducer}>\n      <App />\n    </StateProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}